import{b as Qe,d as Tt,f as D,a as A,t as Ze,c as ce}from"../chunks/7VN89GSf.js";import{i as At}from"../chunks/YhMguhKg.js";import{o as vt}from"../chunks/ORf0yv6i.js";import{e as ft,I as St,aL as ct,Q as Te,h as X,a7 as ye,J as Be,w as e,a0 as Ct,M as Ot,O as Rt,P as et,R as ze,i as fe,ad as ut,aE as $t,f as Pe,s as zt,aM as Oe,aN as Re,c as ge,ap as tt,aH as V,ah as rt,aC as dt,aO as Nt,r as _t,p as Lt,aP as Mt,aQ as Ne,q as pt,d as mt,aR as Dt,ae as gt,aS as Bt,aB as Pt,aT as Ht,Y as Ge,D as G,aU as Ft,aF as Ut,az as jt,K as Wt,aV as Gt,aW as Yt,S as qt,o as ie,aX as Vt,aY as Ye,aZ as Xt,n as be,a_ as Kt,a$ as Jt,b0 as Qt,aJ as Zt,T as er,b1 as tr,b2 as rr,B as we,aI as F,l as bt,C as K,F as $,X as I,H as L,G as S,E as ke,W as ne,aK as de,b3 as Ae,b4 as ve,b5 as ar,b6 as me}from"../chunks/BET8EcX4.js";import{a as sr,d as qe,s as oe}from"../chunks/DL_uDVGj.js";import{p as ht,b as He,i as Y}from"../chunks/BQH7237I.js";import{s as Ve,r as at}from"../chunks/Binuwcsn.js";import{w as Xe}from"../chunks/BZcTkSF9.js";function ue(r,t){return t}function ir(r,t,a){for(var i=r.items,f=[],o=t.length,n=0;n<o;n++)Bt(t[n].e,f,!0);var v=o>0&&f.length===0&&a!==null;if(v){var _=a.parentNode;Pt(_),_.append(a),i.clear(),Z(r,t[0].prev,t[o-1].next)}Ht(f,()=>{for(var p=0;p<o;p++){var g=t[p];v||(i.delete(g.k),Z(r,g.prev,g.next)),mt(g.e,!v)}})}function te(r,t,a,i,f,o=null){var n=r,v={flags:t,items:new Map,first:null},_=(t&ct)!==0;if(_){var p=r;n=X?Te(ye(p)):p.appendChild(ft())}X&&Be();var g=null,m=!1,w=new Map,b=Ct(()=>{var k=a();return Nt(k)?k:k==null?[]:dt(k)}),u,c;function s(){nr(c,u,v,w,n,f,t,i,a),o!==null&&(u.length===0?g?_t(g):g=Pe(()=>o(n)):g!==null&&Lt(g,()=>{g=null}))}St(()=>{c??=Ge,u=e(b);var k=u.length;if(m&&k===0)return;m=k===0;let h=!1;if(X){var T=Ot(n)===Rt;T!==(k===0)&&(n=et(),Te(n),ze(!1),h=!0)}if(X){for(var z=null,O,d=0;d<k;d++){if(fe.nodeType===ut&&fe.data===$t){n=fe,h=!0,ze(!1);break}var x=u[d],M=i(x,d);O=Fe(fe,v,z,null,x,M,d,f,t,a),v.items.set(M,O),z=O}k>0&&Te(et())}if(X)k===0&&o&&(g=Pe(()=>o(n)));else if(zt()){var P=new Set,J=ge;for(d=0;d<k;d+=1){x=u[d],M=i(x,d);var R=v.items.get(M)??w.get(M);R?(t&(Oe|Re))!==0&&yt(R,x,d,t):(O=Fe(null,v,null,null,x,M,d,f,t,a,!0),w.set(M,O)),P.add(M)}for(const[N,U]of v.items)P.has(N)||J.skipped_effects.add(U.e);J.oncommit(s)}else s();h&&ze(!0),e(b)}),X&&(n=fe)}function nr(r,t,a,i,f,o,n,v,_){var p=(n&Dt)!==0,g=(n&(Oe|Re))!==0,m=t.length,w=a.items,b=a.first,u=b,c,s=null,k,h=[],T=[],z,O,d,x;if(p)for(x=0;x<m;x+=1)z=t[x],O=v(z,x),d=w.get(O),d!==void 0&&(d.a?.measure(),(k??=new Set).add(d));for(x=0;x<m;x+=1){if(z=t[x],O=v(z,x),d=w.get(O),d===void 0){var M=i.get(O);if(M!==void 0){i.delete(O),w.set(O,M);var P=s?s.next:u;Z(a,s,M),Z(a,M,P),Le(M,P,f),s=M}else{var J=u?u.e.nodes_start:f;s=Fe(J,a,s,s===null?a.first:s.next,z,O,x,o,n,_)}w.set(O,s),h=[],T=[],u=s.next;continue}if(g&&yt(d,z,x,n),(d.e.f&Ne)!==0&&(_t(d.e),p&&(d.a?.unfix(),(k??=new Set).delete(d))),d!==u){if(c!==void 0&&c.has(d)){if(h.length<T.length){var R=T[0],N;s=R.prev;var U=h[0],Q=h[h.length-1];for(N=0;N<h.length;N+=1)Le(h[N],R,f);for(N=0;N<T.length;N+=1)c.delete(T[N]);Z(a,U.prev,Q.next),Z(a,s,U),Z(a,Q,R),u=R,s=Q,x-=1,h=[],T=[]}else c.delete(d),Le(d,u,f),Z(a,d.prev,d.next),Z(a,d,s===null?a.first:s.next),Z(a,s,d),s=d;continue}for(h=[],T=[];u!==null&&u.k!==O;)(u.e.f&Ne)===0&&(c??=new Set).add(u),T.push(u),u=u.next;if(u===null)continue;d=u}h.push(d),s=d,u=d.next}if(u!==null||c!==void 0){for(var H=c===void 0?[]:dt(c);u!==null;)(u.e.f&Ne)===0&&H.push(u),u=u.next;var E=H.length;if(E>0){var B=(n&ct)!==0&&m===0?f:null;if(p){for(x=0;x<E;x+=1)H[x].a?.measure();for(x=0;x<E;x+=1)H[x].a?.fix()}ir(a,H,B)}}p&&pt(()=>{if(k!==void 0)for(d of k)d.a?.apply()}),r.first=a.first&&a.first.e,r.last=s&&s.e;for(var j of i.values())mt(j.e);i.clear()}function yt(r,t,a,i){(i&Oe)!==0&&tt(r.v,t),(i&Re)!==0?tt(r.i,a):r.i=a}function Fe(r,t,a,i,f,o,n,v,_,p,g){var m=(_&Oe)!==0,w=(_&Mt)===0,b=m?w?V(f,!1,!1):rt(f):f,u=(_&Re)===0?n:rt(n),c={i:u,v:b,k:o,a:null,e:null,prev:a,next:i};try{if(r===null){var s=document.createDocumentFragment();s.append(r=ft())}return c.e=Pe(()=>v(r,b,u,p),X),c.e.prev=a&&a.e,c.e.next=i&&i.e,a===null?g||(t.first=c):(a.next=c,a.e.next=c.e),i!==null&&(i.prev=c,i.e.prev=c.e),c}finally{}}function Le(r,t,a){for(var i=r.next?r.next.e.nodes_start:a,f=t?t.e.nodes_start:a,o=r.e.nodes_start;o!==null&&o!==i;){var n=gt(o);f.before(o),o=n}}function Z(r,t,a){t===null?r.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function or(r,t,a=!1,i=!1,f=!1){var o=r,n="";G(()=>{var v=Ge;if(n===(n=t()??"")){X&&Be();return}if(v.nodes_start!==null&&(Ft(v.nodes_start,v.nodes_end),v.nodes_start=v.nodes_end=null),n!==""){if(X){fe.data;for(var _=Be(),p=_;_!==null&&(_.nodeType!==ut||_.data!=="");)p=_,_=gt(_);if(_===null)throw Ut(),jt;Qe(fe,p),o=Te(_);return}var g=n+"";a?g=`<svg>${g}</svg>`:i&&(g=`<math>${g}</math>`);var m=Tt(g);if((a||i)&&(m=ye(m)),Qe(ye(m),m.lastChild),a||i)for(;ye(m);)o.before(ye(m));else o.before(m)}})}function lr(r,t){return r==null?null:String(r)}function Se(r,t,a,i){var f=r.__style;if(X||f!==t){var o=lr(t);(!X||o!==r.getAttribute("style"))&&(o==null?r.removeAttribute("style"):r.style.cssText=o),r.__style=t}return i}const vr=()=>performance.now(),ee={tick:r=>requestAnimationFrame(r),now:()=>vr(),tasks:new Set};function wt(){const r=ee.now();ee.tasks.forEach(t=>{t.c(r)||(ee.tasks.delete(t),t.f())}),ee.tasks.size!==0&&ee.tick(wt)}function fr(r){let t;return ee.tasks.size===0&&ee.tick(wt),{promise:new Promise(a=>{ee.tasks.add(t={c:r,f:a})}),abort(){ee.tasks.delete(t)}}}function xe(r,t){Ye(()=>{r.dispatchEvent(new CustomEvent(t))})}function cr(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function st(r){const t={},a=r.split(";");for(const i of a){const[f,o]=i.split(":");if(!f||o===void 0)break;const n=cr(f.trim());t[n]=o.trim()}return t}const ur=r=>r;function Ke(r,t,a,i){var f=(r&Kt)!==0,o=(r&Jt)!==0,n=f&&o,v=(r&Vt)!==0,_=n?"both":f?"in":"out",p,g=t.inert,m=t.style.overflow,w,b;function u(){return Ye(()=>p??=a()(t,i?.()??{},{direction:_}))}var c={is_global:v,in(){if(t.inert=g,!f){b?.abort(),b?.reset?.();return}o||w?.abort(),xe(t,"introstart"),w=Ue(t,u(),b,1,()=>{xe(t,"introend"),w?.abort(),w=p=void 0,t.style.overflow=m})},out(T){if(!o){T?.(),p=void 0;return}t.inert=!0,xe(t,"outrostart"),b=Ue(t,u(),w,0,()=>{xe(t,"outroend"),T?.()})},stop:()=>{w?.abort(),b?.abort()}},s=Ge;if((s.transitions??=[]).push(c),f&&sr){var k=v;if(!k){for(var h=s.parent;h&&(h.f&Wt)!==0;)for(;(h=h.parent)&&(h.f&Gt)===0;);k=!h||(h.f&Yt)!==0}k&&qt(()=>{ie(()=>c.in())})}}function Ue(r,t,a,i,f){var o=i===1;if(Xt(t)){var n,v=!1;return pt(()=>{if(!v){var s=t({direction:o?"in":"out"});n=Ue(r,s,a,i,f)}}),{abort:()=>{v=!0,n?.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(a?.deactivate(),!t?.duration)return f(),{abort:be,deactivate:be,reset:be,t:()=>i};const{delay:_=0,css:p,tick:g,easing:m=ur}=t;var w=[];if(o&&a===void 0&&(g&&g(0,1),p)){var b=st(p(0,1));w.push(b,b)}var u=()=>1-i,c=r.animate(w,{duration:_,fill:"forwards"});return c.onfinish=()=>{c.cancel();var s=a?.t()??1-i;a?.abort();var k=i-s,h=t.duration*Math.abs(k),T=[];if(h>0){var z=!1;if(p)for(var O=Math.ceil(h/16.666666666666668),d=0;d<=O;d+=1){var x=s+k*m(d/O),M=st(p(x,1-x));T.push(M),z||=M.overflow==="hidden"}z&&(r.style.overflow="hidden"),u=()=>{var P=c.currentTime;return s+k*m(P/h)},g&&fr(()=>{if(c.playState!=="running")return!1;var P=u();return g(P,1-P),!0})}c=r.animate(T,{duration:h,fill:"forwards"}),c.onfinish=()=>{u=()=>i,g?.(i,1-i),f()}},{abort:()=>{c&&(c.cancel(),c.effect=null,c.onfinish=be)},deactivate:()=>{f=be},reset:()=>{i===0&&g?.(1,0)},t:()=>u()}}function it(r,t,a=t){var i=new WeakSet;Qt(r,"input",async f=>{var o=f?r.defaultValue:r.value;if(o=Me(r)?De(o):o,a(o),ge!==null&&i.add(ge),await Zt(),o!==(o=t())){var n=r.selectionStart,v=r.selectionEnd,_=r.value.length;if(r.value=o??"",v!==null){var p=r.value.length;n===v&&v===_&&p>_?(r.selectionStart=p,r.selectionEnd=p):(r.selectionStart=n,r.selectionEnd=Math.min(v,p))}}}),(X&&r.defaultValue!==r.value||ie(t)==null&&r.value)&&(a(Me(r)?De(r.value):r.value),ge!==null&&i.add(ge)),er(()=>{var f=t();if(r===document.activeElement){var o=tr??ge;if(i.has(o))return}Me(r)&&f===De(r.value)||r.type==="date"&&!f&&!r.value||f!==r.value&&(r.value=f??"")})}function Me(r){var t=r.type;return t==="number"||t==="range"}function De(r){return r===""?null:+r}function Ie(r,t){rr(window,["resize"],()=>Ye(()=>t(window[r])))}const Ce=Xe({boys:{},girls:{}}),je=Xe([]),We=Xe([]),dr=""+new URL("../assets/lovemailbox.BNs235_i.png",import.meta.url).href;var _r=D('<div class="up svelte-27ckzk"><button>↑</button></div> <div class="down svelte-27ckzk"><button>↓</button></div>',1),pr=D('<div class="up svelte-27ckzk"><button>↑</button></div> <div class="down svelte-27ckzk"><button>↓</button></div>',1),mr=D('<div class="buttoncolumn svelte-27ckzk"><div class="names svelte-27ckzk"><!></div> <!></div>'),gr=D('<div class="title svelte-27ckzk"><img alt="mailbox" class="mailbox svelte-27ckzk"/> <span> </span></div> <div class="box"></div>',1);function nt(r,t){we(t,!0);let a=ht(t,"pref",15),i=F(0),f={x:30,y:-20},o=F(0),n=F(0),v=F(0),_=F(0);vt(()=>{window.scrollTo(0,0);const s=e(i).getBoundingClientRect();Ce.update(k=>(k[t.group][t.name]={...s,left:s.left+f.x,top:s.top+f.y},k))}),bt(()=>{e(n),e(o),e(_),e(v),console.log("location");const s=e(i).getBoundingClientRect();Ce.update(k=>(k[t.group][t.name]={...s,left:s.left+f.x,top:s.top+f.y},k))});function p(s,k){a(a().map((h,T)=>k===1?s>=a().length-1?h:T===s?a()[s+1]:T===s+1?a()[s]:h:s<=0?h:T===s?a()[s-1]:T===s-1?a()[s]:h))}var g=gr(),m=K(g),w=$(m);He(w,s=>I(i,s),()=>e(i));var b=L(w,2),u=$(b);S(b),S(m);var c=L(m,2);te(c,21,a,ue,(s,k,h)=>{var T=mr(),z=$(T),O=$(z);{var d=R=>{var N=Ze();G(()=>oe(N,`#${h+1} ${e(k)??""}`)),A(R,N)},x=R=>{var N=Ze();G(()=>oe(N,`#${h+1}  ${e(k)??""}`)),A(R,N)};Y(O,R=>{h===0?R(d):R(x,!1)})}S(z);var M=L(z,2);{var P=R=>{var N=_r(),U=K(N),Q=$(U);Q.__click=()=>p(h,-1),S(U);var H=L(U,2),E=$(H);E.__click=()=>p(h,1),S(H),A(R,N)},J=R=>{var N=pr(),U=K(N),Q=$(U);Q.__click=()=>{},S(U);var H=L(U,2),E=$(H);E.__click=()=>{},S(H),A(R,N)};Y(M,R=>{t.lockedIn?R(J,!1):R(P)})}S(T),A(s,T)}),S(c),G(()=>{Ve(w,"src",dr),oe(u,`${t.name??""}'s List`)}),Ie("innerHeight",s=>I(o,s,!0)),Ie("innerWidth",s=>I(n,s,!0)),Ie("outerHeight",s=>I(v,s,!0)),Ie("outerWidth",s=>I(_,s,!0)),A(r,g),ke()}qe(["click"]);const br=r=>r;function hr(r){const t=r-1;return t*t*t+1}function ot(r){const t=typeof r=="string"&&r.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[r,"px"]}function kt(r,{delay:t=0,duration:a=400,easing:i=br}={}){const f=+getComputedStyle(r).opacity;return{delay:t,duration:a,easing:i,css:o=>`opacity: ${o*f}`}}function yr(r,{delay:t=0,duration:a=400,easing:i=hr,x:f=0,y:o=0,opacity:n=0}={}){const v=getComputedStyle(r),_=+v.opacity,p=v.transform==="none"?"":v.transform,g=_*(1-n),[m,w]=ot(f),[b,u]=ot(o);return{delay:t,duration:a,easing:i,css:(c,s)=>`
			transform: ${p} translate(${(1-c)*m}${w}, ${(1-c)*b}${u});
			opacity: ${_-g*s}`}}var wr=D('<div class="envelope svelte-1vbmvhy">✉️</div>');function kr(r,t){we(t,!0);let a=F(ne({boys:{},girls:{}})),i=F(ne([]));Ce.subscribe(n=>I(a,n,!0)),je.subscribe(n=>I(i,n,!0));var f=ce(),o=K(f);te(o,17,()=>e(i),n=>n.id,(n,v)=>{var _=ce(),p=K(_);{var g=m=>{const w=de(()=>e(a).boys[e(v).from]),b=de(()=>e(a).girls[e(v).to]);var u=wr();G(()=>Se(u,`left: ${e(b).left??""}px; top: ${e(b).top??""}px;`)),Ke(5,u,()=>yr,()=>({x:e(w).left-e(b).left,y:e(w).top-e(b).top,opacity:1,duration:800})),A(m,u)};Y(p,m=>{e(a).boys[e(v).from]&&e(a).girls[e(v).to]&&m(g)})}A(n,_)}),A(r,f),ke()}function lt(r,t){const a=Date.now()+Math.random();console.log("[sendEnvelope] enqueue",r,"->",t,a),je.update(i=>[...i,{from:r,to:t,id:a}]),setTimeout(()=>{je.update(i=>i.filter(f=>f.id!==a)),console.log("[sendEnvelope] removed",a)},800)}function he(r,t,a=800){r==="replaced"&&(a=1e3);const i=Date.now()+Math.random();console.log("[sendEffect]",r,t),We.update(f=>[...f,{id:i,type:r,people:t}]),setTimeout(()=>{We.update(f=>f.filter(o=>o.id!==i))},a)}const Er=""+new URL("../assets/lotsofhearts.BNwOjjSl.gif",import.meta.url).href;var xr=D('<div class="log-line svelte-14o7mzv"><!></div>'),Ir=D('<div class="log-line svelte-14o7mzv"> </div>'),Tr=D('<button class="retro-btn start">Lock In Preferences</button>'),Ar=D('<button class="retro-btn next">Next Step</button>'),Sr=D("<li> </li>"),Cr=D("<li> </li>"),Or=D('<div class="endscreen svelte-14o7mzv"><img class="background-gif svelte-14o7mzv" alt="Celebration"/> <div class="box svelte-14o7mzv" style="padding-inline: 2rem; padding-bottom: 1rem; text-align: center; z-index: 1; background: rgba(255, 255, 255, 0.95);"><ul class="svelte-14o7mzv"></ul> <button class="retro-btn next">Restart</button></div></div>'),Rr=D('<div class="log-container floating svelte-14o7mzv" style="left:5%;"><div class="log-box svelte-14o7mzv"><div class="log-line svelte-14o7mzv"><u>Activity Log:</u></div> <!></div></div> <div class="log-container floating svelte-14o7mzv" style="left: 22%; width: 8.5%;"><div class="log-box svelte-14o7mzv"><div class="log-line svelte-14o7mzv"><u>Engagements:</u></div> <!></div></div> <div class="button-panel"><!> <!></div> <!>',1);function $r(r,t){we(t,!0);let a=ht(t,"lockedIn",15),i=F(ne([...t.boys])),f=F(ne({})),o=F(ne({})),n=F(0),v=F(0),_=F(!1),p=F(!1),g=F(ne([])),m,w,b=F(!1);function u(E){e(g).push("> "+E)}bt(()=>{e(b),m.scrollTo({top:m.scrollHeight,behavior:"smooth"}),w.scrollTo({top:w.scrollHeight,behavior:"smooth"})});function c(){I(g,[],!0),I(i,[...t.boys],!0),I(f,{},!0),I(o,{},!0),I(_,!1),I(p,!0),a(!a()),t.boys.forEach(E=>e(f)[E]=0)}function s(){I(p,!1),I(_,!1),I(g,[],!0),a(!a()),I(o,{},!0)}function k(){if(I(b,!e(b)),e(i).length===0){I(_,!0),I(p,!1);return}I(n,e(i)[0],!0),I(v,t.boyPreferences[e(n)][e(f)[e(n)]],!0),e(f)[e(n)]++,u(`${e(n)} proposes to ${e(v)}.`),lt(e(n),e(v));const E=e(o)[e(v)];if(!E)e(o)[e(v)]=e(n),e(i).shift(),he("tentative",[e(n),e(v)]),u(`${e(v)} accepts ${e(n)}'s proposal.`);else{const B=t.girlPreferences[e(v)];B.indexOf(e(n))<B.indexOf(E)?(u(`${e(v)} dumps ${E} for ${e(n)}!`),e(o)[e(v)]=e(n),e(i)[0]=E,he("replaced",[E]),he("tentative",[e(n),e(v)])):(u(`${e(v)} rejects ${e(n)}.`),lt(e(v),e(n)),I(b,!e(b)),he("rejector",[e(v)]),he("rejected",[e(n)]))}}var h=Rr(),T=K(h),z=$(T),O=L($(z),2);te(O,17,()=>e(g),ue,(E,B)=>{var j=xr(),re=$(j);or(re,()=>e(B)),S(j),A(E,j)}),S(z),He(z,E=>m=E,()=>m),S(T);var d=L(T,2),x=$(d),M=L($(x),2);te(M,17,()=>Object.entries(e(o)),ue,(E,B)=>{var j=de(()=>Ae(e(B),2));let re=()=>e(j)[0],l=()=>e(j)[1];var y=Ir(),C=$(y);S(y),G(()=>oe(C,`${re()??""} + ${l()??""}`)),A(E,y)}),S(x),He(x,E=>w=E,()=>w),S(d);var P=L(d,2),J=$(P);{var R=E=>{var B=Tr();B.__click=c,A(E,B)};Y(J,E=>{e(p)||E(R)})}var N=L(J,2);{var U=E=>{var B=Ar();B.__click=k,A(E,B)};Y(N,E=>{e(p)&&!e(_)&&E(U)})}S(P);var Q=L(P,2);{var H=E=>{var B=Or(),j=$(B),re=L(j,2),l=$(re);te(l,21,()=>Object.entries(e(o)),ue,(C,W,ae,se)=>{var _e=de(()=>Ae(e(W),2));let q=()=>e(_e)[0],Ee=()=>e(_e)[1];var Je=ce(),Et=K(Je);{var xt=pe=>{var le=Sr(),$e=$(le);S(le),G(()=>oe($e,`${q()??""} 💞 ${Ee()??""}`)),A(pe,le)},It=pe=>{var le=Cr(),$e=$(le);S(le),G(()=>oe($e,`${q()??""} ❤️ ${Ee()??""}`)),A(pe,le)};Y(Et,pe=>{t.girlPreferences[q()][0]===Ee()&&q()===t.boyPreferences[Ee()][0]?pe(xt):pe(It,!1)})}A(C,Je)}),S(l);var y=L(l,2);y.__click=s,S(re),S(B),G(()=>Ve(j,"src",Er)),Ke(3,B,()=>kt),A(E,B)};Y(Q,E=>{e(_)&&E(H)})}A(r,h),ke()}qe(["click"]);const zr=""+new URL("../assets/heart.Bpr07Mgz.gif",import.meta.url).href,Nr=""+new URL("../assets/crying.CHRd97a5.gif",import.meta.url).href,Lr=""+new URL("../assets/breakup.D_EuIFF7.gif",import.meta.url).href,Mr=""+new URL("../assets/rejected.DapKlnpD.gif",import.meta.url).href;var Dr=D('<img class="effect svelte-cps1d0" alt="gifs"/>');function Br(r,t){we(t,!0);let a=F(ne([])),i=F(ne({boys:{},girls:{}}));We.subscribe(v=>I(a,v,!0)),Ce.subscribe(v=>I(i,v,!0));const f={tentative:zr,replaced:Lr,rejector:Mr,rejected:Nr};var o=ce(),n=K(o);te(n,17,()=>e(a),v=>v.id,(v,_)=>{var p=ce(),g=K(p);{var m=w=>{var b=ce(),u=K(b);te(u,17,()=>e(_).people,ue,(c,s)=>{var k=ce(),h=K(k);{var T=z=>{const O=de(()=>e(i).boys[e(s)]||e(i).girls[e(s)]);var d=Dr();G(()=>{Ve(d,"src",f[e(_).type]),Se(d,`left:${e(O).left+20}px; top:${e(O).top+100}px;`)}),Ke(7,d,()=>kt,()=>({duration:800})),A(z,d)};Y(h,z=>{(e(i).boys[e(s)]||e(i).girls[e(s)])&&z(T)})}A(c,k)}),A(w,b)};Y(g,w=>{e(_).people&&w(m)})}A(v,p)}),A(r,o),ke()}const Pr=""+new URL("../assets/titanic.B2rvjAN8.mp3",import.meta.url).href;var Hr=D(`<div class="modal-overlay"><div class="modal-box"><h3>Instructions</h3> <p>Welcome! This love machine will pair people up such that no two people prefer eachother over the machine's choice. Look up the <a href="https://en.wikipedia.org/wiki/Gale%E2%80%93Shapley_algorithm" target="_blank">Gale-Shapley algorithm</a> for more details. <br/><br/> Type in any names (comma-separated) in the input boxes provided, and hover over the candidates' lists to be able to customize their preference rankings. When you're done, lock in your setup, and click "Next Step" till a final matching is generated! Events and current engagements are logged in the top-right corner. Note that duplicate names are not allowed. <br/><br/> XOXO</p> <button class="retro-btn exit">Close</button></div></div>`),Fr=D('<div class="warning">Warning: Duplicate names detected! No Polyamory Allowed!</div>'),Ur=D('<input class="list-input" placeholder="Enter names separated by commas"/>'),jr=D('<div class="list-input"> </div>'),Wr=D('<input class="list-input" placeholder="Enter names separated by commas"/>'),Gr=D('<div class="list-input"> </div>'),Yr=D('<div class="div1"><!></div>'),qr=D('<div class="div1"><!></div>'),Vr=D('<button class="info-btn">Info</button> <!> <!> <br/> <div class="list-input-wrapper">GIRLS: <!></div> <div class="list-input-wrapper">BOYS: <!></div> <br/><br/> <div class="boys"></div> <br/><br/> <div class="girls"></div> <br/><br/> <!> <!> <!>',1);function aa(r,t){we(t,!1);const a=V(),i=V(),f=V();let o,n=V(!1);vt(()=>{o=new Audio(Pr),o.loop=!0,o.volume=.5,o.play()});let v=V(!0);function _(){o?.play(),I(v,!e(v))}function p(l){let y=l.length;for(;y!=0;){let C=Math.floor(Math.random()*y);y--,[l[y],l[C]]=[l[C],l[y]]}return l}function g(l,y){if(!l||!y||l.length!==y.length)return!1;const C=new Set(l),W=new Set(y);for(const ae of C)if(!W.has(ae))return!1;return!0}let m=V(["Alice","Bella","Cecilia","Daisy"]),w=V(e(m).join(",")),b=V(["Alex","Bob","Chris","Daniel"]),u=V(e(b).join(",")),c=V({}),s=V({});ve(()=>e(w),()=>{I(m,e(w).split(",").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()))}),ve(()=>e(u),()=>{I(b,e(u).split(",").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()))}),ve(()=>(e(b),e(c),e(m)),()=>{for(let l of e(b))l&&!e(c)[l]?me(c,e(c)[l]=p(e(m).slice())):l&&!g(e(m),e(c)[l])&&me(c,e(c)[l]=p(e(m).slice()));for(let l of Object.keys(e(c)))e(b).includes(l)||delete e(c)[l],I(c,{...e(c)})}),ve(()=>(e(m),e(s),e(b)),()=>{for(let l of e(m))l&&!e(s)[l]?me(s,e(s)[l]=p(e(b).slice())):l&&!g(e(b),e(s)[l])&&me(s,e(s)[l]=p(e(b).slice()));for(let l of Object.keys(e(s)))e(m).includes(l)||delete e(s)[l],I(s,{...e(s)})}),ve(()=>e(m),()=>{I(a,e(m).filter((l,y,C)=>C.indexOf(l)!==y))}),ve(()=>e(b),()=>{I(i,e(b).filter((l,y,C)=>C.indexOf(l)!==y))}),ve(()=>(e(a),e(i)),()=>{I(f,e(a).length>0||e(i).length>0)}),ar(),At();var k=Vr(),h=K(k);h.__click=_;var T=L(h,2);{var z=l=>{var y=Hr();y.__click=_;var C=$(y);C.__click=_;var W=L($(C),4);W.__click=_,S(C),S(y),A(l,y)};Y(T,l=>{e(v)&&l(z)})}var O=L(T,2);{var d=l=>{var y=Fr();A(l,y)};Y(O,l=>{e(f)&&l(d)})}var x=L(O,4),M=L($(x));{var P=l=>{var y=Ur();at(y),it(y,()=>e(w),C=>I(w,C)),A(l,y)},J=l=>{var y=jr(),C=$(y,!0);S(y),G(()=>oe(C,e(w))),A(l,y)};Y(M,l=>{e(n)?l(J,!1):l(P)})}S(x);var R=L(x,2),N=L($(R));{var U=l=>{var y=Wr();at(y),it(y,()=>e(u),C=>I(u,C)),A(l,y)},Q=l=>{var y=Gr(),C=$(y,!0);S(y),G(()=>oe(C,e(u))),A(l,y)};Y(N,l=>{e(n)?l(Q,!1):l(U)})}S(R);var H=L(R,5);te(H,5,()=>(e(c),ie(()=>Object.entries(e(c)))),ue,(l,y)=>{var C=de(()=>Ae(e(y),2));let W=()=>e(C)[0],ae=()=>e(C)[1];var se=Yr(),_e=$(se);nt(_e,{get size(){return ae(),ie(()=>ae().length)},get name(){return W()},group:"boys",get pref(){return e(c)[W()]},set pref(q){me(c,e(c)[W()]=q)},get lockedIn(){return e(n)},set lockedIn(q){I(n,q)},$$legacy:!0}),S(se),A(l,se)}),S(H);var E=L(H,5);te(E,5,()=>(e(s),ie(()=>Object.entries(e(s)))),ue,(l,y)=>{var C=de(()=>Ae(e(y),2));let W=()=>e(C)[0],ae=()=>e(C)[1];var se=qr(),_e=$(se);nt(_e,{get size(){return ae(),ie(()=>ae().length)},get name(){return W()},group:"girls",get pref(){return e(s)[W()]},set pref(q){me(s,e(s)[W()]=q)},get lockedIn(){return e(n)},set lockedIn(q){I(n,q)},$$legacy:!0}),S(se),A(l,se)}),S(E);var B=L(E,5);kr(B,{});var j=L(B,2);Br(j,{});var re=L(j,2);$r(re,{get boyPreferences(){return e(c)},get girlPreferences(){return e(s)},get boys(){return e(b)},get girls(){return e(m)},get lockedIn(){return e(n)},set lockedIn(l){I(n,l)},$$legacy:!0}),G(()=>{Se(H,`grid-template-columns: repeat(${e(c),ie(()=>e(c).length)??""}, 1fr);`),Se(E,`grid-template-columns: repeat(${e(s),ie(()=>e(s).length)??""}, 1fr);`)}),A(r,k),ke()}qe(["click"]);export{aa as component};
