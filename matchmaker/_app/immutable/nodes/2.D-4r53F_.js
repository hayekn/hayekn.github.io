import{b as wt,d as Qt,f as se,a as J,t as Et,c as Fe}from"../chunks/C7NozB1d.js";import{i as Vt}from"../chunks/BL1BjQDv.js";import{o as Ft}from"../chunks/LoO-5wS6.js";import{e as zt,I as Gt,aL as Mt,Q as Qe,h as _e,a7 as He,J as ot,w as t,a0 as Yt,M as Jt,O as Xt,P as xt,R as rt,i as De,ad as Nt,aE as Zt,f as lt,s as er,aM as Ze,aN as et,c as Ne,aq as Rt,aH as pe,ai as St,aC as jt,aO as tr,r as Pt,p as rr,aP as ir,aQ as it,q as Ut,d as Bt,aR as nr,ae as Ht,aS as ar,aB as sr,aT as or,Y as pt,D as he,aU as lr,aF as ur,az as fr,K as cr,aV as dr,aW as hr,S as vr,o as Ie,aX as pr,aY as _t,aZ as _r,n as Ue,a_ as gr,a$ as mr,b0 as br,aJ as yr,T as kr,b1 as wr,b2 as Er,B as $e,aI as le,l as $t,C as ge,F as ee,X as N,H as Y,G as q,E as qe,W as Ae,aK as ze,b3 as Ge,b4 as Le,b5 as xr,b6 as xe}from"../chunks/DFknazr4.js";import{a as Rr,d as gt,s as Te}from"../chunks/DIbvtHmm.js";import{p as ut,b as ft,i as be}from"../chunks/CKK-0Dag.js";import{s as Ye,r as Ot}from"../chunks/9teRBT3U.js";import{w as mt}from"../chunks/DcspyJ1x.js";function Oe(a,n){return n}function Sr(a,n,o){for(var l=a.items,_=[],h=n.length,v=0;v<h;v++)ar(n[v].e,_,!0);var p=h>0&&_.length===0&&o!==null;if(p){var E=o.parentNode;sr(E),E.append(o),l.clear(),Re(a,n[0].prev,n[h-1].next)}or(_,()=>{for(var f=0;f<h;f++){var x=n[f];p||(l.delete(x.k),Re(a,x.prev,x.next)),Bt(x.e,!p)}})}function me(a,n,o,l,_,h=null){var v=a,p={flags:n,items:new Map,first:null},E=(n&Mt)!==0;if(E){var f=a;v=_e?Qe(He(f)):f.appendChild(zt())}_e&&ot();var x=null,L=!1,S=new Map,D=Yt(()=>{var y=o();return tr(y)?y:y==null?[]:jt(y)}),g,O;function u(){Or(O,g,p,S,v,_,n,l,o),h!==null&&(g.length===0?x?Pt(x):x=lt(()=>h(v)):x!==null&&rr(x,()=>{x=null}))}Gt(()=>{O??=pt,g=t(D);var y=g.length;if(L&&y===0)return;L=y===0;let A=!1;if(_e){var j=Jt(v)===Xt;j!==(y===0)&&(v=xt(),Qe(v),rt(!1),A=!0)}if(_e){for(var V=null,H,k=0;k<y;k++){if(De.nodeType===Nt&&De.data===Zt){v=De,A=!0,rt(!1);break}var w=g[k],e=l(w,k);H=ct(De,p,V,null,w,e,k,_,n,o),p.items.set(e,H),V=H}y>0&&Qe(xt())}if(_e)y===0&&h&&(x=lt(()=>h(v)));else if(er()){var r=new Set,s=Ne;for(k=0;k<y;k+=1){w=g[k],e=l(w,k);var d=p.items.get(e)??S.get(e);d?(n&(Ze|et))!==0&&qt(d,w,k,n):(H=ct(null,p,null,null,w,e,k,_,n,o,!0),S.set(e,H)),r.add(e)}for(const[c,C]of p.items)r.has(c)||s.skipped_effects.add(C.e);s.oncommit(u)}else u();A&&rt(!0),t(D)}),_e&&(v=De)}function Or(a,n,o,l,_,h,v,p,E){var f=(v&nr)!==0,x=(v&(Ze|et))!==0,L=n.length,S=o.items,D=o.first,g=D,O,u=null,y,A=[],j=[],V,H,k,w;if(f)for(w=0;w<L;w+=1)V=n[w],H=p(V,w),k=S.get(H),k!==void 0&&(k.a?.measure(),(y??=new Set).add(k));for(w=0;w<L;w+=1){if(V=n[w],H=p(V,w),k=S.get(H),k===void 0){var e=l.get(H);if(e!==void 0){l.delete(H),S.set(H,e);var r=u?u.next:g;Re(o,u,e),Re(o,e,r),nt(e,r,_),u=e}else{var s=g?g.e.nodes_start:_;u=ct(s,o,u,u===null?o.first:u.next,V,H,w,h,v,E)}S.set(H,u),A=[],j=[],g=u.next;continue}if(x&&qt(k,V,w,v),(k.e.f&it)!==0&&(Pt(k.e),f&&(k.a?.unfix(),(y??=new Set).delete(k))),k!==g){if(O!==void 0&&O.has(k)){if(A.length<j.length){var d=j[0],c;u=d.prev;var C=A[0],B=A[A.length-1];for(c=0;c<A.length;c+=1)nt(A[c],d,_);for(c=0;c<j.length;c+=1)O.delete(j[c]);Re(o,C.prev,B.next),Re(o,u,C),Re(o,B,d),g=d,u=B,w-=1,A=[],j=[]}else O.delete(k),nt(k,g,_),Re(o,k.prev,k.next),Re(o,k,u===null?o.first:u.next),Re(o,u,k),u=k;continue}for(A=[],j=[];g!==null&&g.k!==H;)(g.e.f&it)===0&&(O??=new Set).add(g),j.push(g),g=g.next;if(g===null)continue;k=g}A.push(k),u=k,g=k.next}if(g!==null||O!==void 0){for(var K=O===void 0?[]:jt(O);g!==null;)(g.e.f&it)===0&&K.push(g),g=g.next;var ie=K.length;if(ie>0){var z=(v&Mt)!==0&&L===0?_:null;if(f){for(w=0;w<ie;w+=1)K[w].a?.measure();for(w=0;w<ie;w+=1)K[w].a?.fix()}Sr(o,K,z)}}f&&Ut(()=>{if(y!==void 0)for(k of y)k.a?.apply()}),a.first=o.first&&o.first.e,a.last=u&&u.e;for(var te of l.values())Bt(te.e);l.clear()}function qt(a,n,o,l){(l&Ze)!==0&&Rt(a.v,n),(l&et)!==0?Rt(a.i,o):a.i=o}function ct(a,n,o,l,_,h,v,p,E,f,x){var L=(E&Ze)!==0,S=(E&ir)===0,D=L?S?pe(_,!1,!1):St(_):_,g=(E&et)===0?v:St(v),O={i:g,v:D,k:h,a:null,e:null,prev:o,next:l};try{if(a===null){var u=document.createDocumentFragment();u.append(a=zt())}return O.e=lt(()=>p(a,D,g,f),_e),O.e.prev=o&&o.e,O.e.next=l&&l.e,o===null?x||(n.first=O):(o.next=O,o.e.next=O.e),l!==null&&(l.prev=O,l.e.prev=O.e),O}finally{}}function nt(a,n,o){for(var l=a.next?a.next.e.nodes_start:o,_=n?n.e.nodes_start:o,h=a.e.nodes_start;h!==null&&h!==l;){var v=Ht(h);_.before(h),h=v}}function Re(a,n,o){n===null?a.first=o:(n.next=o,n.e.next=o&&o.e),o!==null&&(o.prev=n,o.e.prev=n&&n.e)}function Cr(a,n,o=!1,l=!1,_=!1){var h=a,v="";he(()=>{var p=pt;if(v===(v=n()??"")){_e&&ot();return}if(p.nodes_start!==null&&(lr(p.nodes_start,p.nodes_end),p.nodes_start=p.nodes_end=null),v!==""){if(_e){De.data;for(var E=ot(),f=E;E!==null&&(E.nodeType!==Nt||E.data!=="");)f=E,E=Ht(E);if(E===null)throw ur(),fr;wt(De,f),h=Qe(E);return}var x=v+"";o?x=`<svg>${x}</svg>`:l&&(x=`<math>${x}</math>`);var L=Qt(x);if((o||l)&&(L=He(L)),wt(He(L),L.lastChild),o||l)for(;He(L);)h.before(He(L));else h.before(L)}})}function Ir(a,n){return a==null?null:String(a)}function Je(a,n,o,l){var _=a.__style;if(_e||_!==n){var h=Ir(n);(!_e||h!==a.getAttribute("style"))&&(h==null?a.removeAttribute("style"):a.style.cssText=h),a.__style=n}return l}const Tr=()=>performance.now(),Ce={tick:a=>requestAnimationFrame(a),now:()=>Tr(),tasks:new Set};function Wt(){const a=Ce.now();Ce.tasks.forEach(n=>{n.c(a)||(Ce.tasks.delete(n),n.f())}),Ce.tasks.size!==0&&Ce.tick(Wt)}function Ar(a){let n;return Ce.tasks.size===0&&Ce.tick(Wt),{promise:new Promise(o=>{Ce.tasks.add(n={c:a,f:o})}),abort(){Ce.tasks.delete(n)}}}function We(a,n){_t(()=>{a.dispatchEvent(new CustomEvent(n))})}function Lr(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const n=a.split("-");return n.length===1?n[0]:n[0]+n.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function Ct(a){const n={},o=a.split(";");for(const l of o){const[_,h]=l.split(":");if(!_||h===void 0)break;const v=Lr(_.trim());n[v]=h.trim()}return n}const Dr=a=>a;function bt(a,n,o,l){var _=(a&gr)!==0,h=(a&mr)!==0,v=_&&h,p=(a&pr)!==0,E=v?"both":_?"in":"out",f,x=n.inert,L=n.style.overflow,S,D;function g(){return _t(()=>f??=o()(n,l?.()??{},{direction:E}))}var O={is_global:p,in(){if(n.inert=x,!_){D?.abort(),D?.reset?.();return}h||S?.abort(),We(n,"introstart"),S=dt(n,g(),D,1,()=>{We(n,"introend"),S?.abort(),S=f=void 0,n.style.overflow=L})},out(j){if(!h){j?.(),f=void 0;return}n.inert=!0,We(n,"outrostart"),D=dt(n,g(),S,0,()=>{We(n,"outroend"),j?.()})},stop:()=>{S?.abort(),D?.abort()}},u=pt;if((u.transitions??=[]).push(O),_&&Rr){var y=p;if(!y){for(var A=u.parent;A&&(A.f&cr)!==0;)for(;(A=A.parent)&&(A.f&dr)===0;);y=!A||(A.f&hr)!==0}y&&vr(()=>{Ie(()=>O.in())})}}function dt(a,n,o,l,_){var h=l===1;if(_r(n)){var v,p=!1;return Ut(()=>{if(!p){var u=n({direction:h?"in":"out"});v=dt(a,u,o,l,_)}}),{abort:()=>{p=!0,v?.abort()},deactivate:()=>v.deactivate(),reset:()=>v.reset(),t:()=>v.t()}}if(o?.deactivate(),!n?.duration)return _(),{abort:Ue,deactivate:Ue,reset:Ue,t:()=>l};const{delay:E=0,css:f,tick:x,easing:L=Dr}=n;var S=[];if(h&&o===void 0&&(x&&x(0,1),f)){var D=Ct(f(0,1));S.push(D,D)}var g=()=>1-l,O=a.animate(S,{duration:E,fill:"forwards"});return O.onfinish=()=>{O.cancel();var u=o?.t()??1-l;o?.abort();var y=l-u,A=n.duration*Math.abs(y),j=[];if(A>0){var V=!1;if(f)for(var H=Math.ceil(A/16.666666666666668),k=0;k<=H;k+=1){var w=u+y*L(k/H),e=Ct(f(w,1-w));j.push(e),V||=e.overflow==="hidden"}V&&(a.style.overflow="hidden"),g=()=>{var r=O.currentTime;return u+y*L(r/A)},x&&Ar(()=>{if(O.playState!=="running")return!1;var r=g();return x(r,1-r),!0})}O=a.animate(j,{duration:A,fill:"forwards"}),O.onfinish=()=>{g=()=>l,x?.(l,1-l),_()}},{abort:()=>{O&&(O.cancel(),O.effect=null,O.onfinish=Ue)},deactivate:()=>{_=Ue},reset:()=>{l===0&&x?.(1,0)},t:()=>g()}}function It(a,n,o=n){var l=new WeakSet;br(a,"input",async _=>{var h=_?a.defaultValue:a.value;if(h=at(a)?st(h):h,o(h),Ne!==null&&l.add(Ne),await yr(),h!==(h=n())){var v=a.selectionStart,p=a.selectionEnd,E=a.value.length;if(a.value=h??"",p!==null){var f=a.value.length;v===p&&p===E&&f>E?(a.selectionStart=f,a.selectionEnd=f):(a.selectionStart=v,a.selectionEnd=Math.min(p,f))}}}),(_e&&a.defaultValue!==a.value||Ie(n)==null&&a.value)&&(o(at(a)?st(a.value):a.value),Ne!==null&&l.add(Ne)),kr(()=>{var _=n();if(a===document.activeElement){var h=wr??Ne;if(l.has(h))return}at(a)&&_===st(a.value)||a.type==="date"&&!_&&!a.value||_!==a.value&&(a.value=_??"")})}function at(a){var n=a.type;return n==="number"||n==="range"}function st(a){return a===""?null:+a}function Ke(a,n){Er(window,["resize"],()=>_t(()=>n(window[a])))}const Xe=mt({boys:{},girls:{}}),ht=mt([]),vt=mt([]),Fr=""+new URL("../assets/lovemailbox.BNs235_i.png",import.meta.url).href;var zr=se('<div class="up svelte-27ckzk"><button>‚Üë</button></div> <div class="down svelte-27ckzk"><button>‚Üì</button></div>',1),Mr=se('<div class="up svelte-27ckzk"><button>‚Üë</button></div> <div class="down svelte-27ckzk"><button>‚Üì</button></div>',1),Nr=se('<div class="buttoncolumn svelte-27ckzk"><div class="names svelte-27ckzk"><!></div> <!></div>'),jr=se('<div class="title svelte-27ckzk"><img alt="mailbox" class="mailbox svelte-27ckzk"/> <span> </span></div> <div class="box"></div>',1);function Tt(a,n){$e(n,!0);let o=ut(n,"pref",15),l=le(0),_={x:30,y:-20},h=le(0),v=le(0),p=le(0),E=le(0);Ft(()=>{window.scrollTo(0,0);const u=t(l).getBoundingClientRect();Xe.update(y=>(y[n.group][n.name]={...u,left:u.left+_.x,top:u.top+_.y},y))}),$t(()=>{t(v),t(h),t(E),t(p),console.log("location");const u=t(l).getBoundingClientRect();Xe.update(y=>(y[n.group][n.name]={...u,left:u.left+_.x,top:u.top+_.y},y))});function f(u,y){o(o().map((A,j)=>y===1?u>=o().length-1?A:j===u?o()[u+1]:j===u+1?o()[u]:A:u<=0?A:j===u?o()[u-1]:j===u-1?o()[u]:A))}var x=jr(),L=ge(x),S=ee(L);ft(S,u=>N(l,u),()=>t(l));var D=Y(S,2),g=ee(D);q(D),q(L);var O=Y(L,2);me(O,21,o,Oe,(u,y,A)=>{var j=Nr(),V=ee(j),H=ee(V);{var k=d=>{var c=Et();he(()=>Te(c,`#${A+1} ${t(y)??""}`)),J(d,c)},w=d=>{var c=Et();he(()=>Te(c,`#${A+1}  ${t(y)??""}`)),J(d,c)};be(H,d=>{A===0?d(k):d(w,!1)})}q(V);var e=Y(V,2);{var r=d=>{var c=zr(),C=ge(c),B=ee(C);B.__click=()=>f(A,-1),q(C);var K=Y(C,2),ie=ee(K);ie.__click=()=>f(A,1),q(K),J(d,c)},s=d=>{var c=Mr(),C=ge(c),B=ee(C);B.__click=()=>{},q(C);var K=Y(C,2),ie=ee(K);ie.__click=()=>{},q(K),J(d,c)};be(e,d=>{n.lockedIn?d(s,!1):d(r)})}q(j),J(u,j)}),q(O),he(()=>{Ye(S,"src",Fr),Te(g,`${n.name??""}'s List`)}),Ke("innerHeight",u=>N(h,u,!0)),Ke("innerWidth",u=>N(v,u,!0)),Ke("outerHeight",u=>N(p,u,!0)),Ke("outerWidth",u=>N(E,u,!0)),J(a,x),qe()}gt(["click"]);const Pr=a=>a;function Ur(a){const n=a-1;return n*n*n+1}function At(a){const n=typeof a=="string"&&a.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return n?[parseFloat(n[1]),n[2]||"px"]:[a,"px"]}function Kt(a,{delay:n=0,duration:o=400,easing:l=Pr}={}){const _=+getComputedStyle(a).opacity;return{delay:n,duration:o,easing:l,css:h=>`opacity: ${h*_}`}}function Br(a,{delay:n=0,duration:o=400,easing:l=Ur,x:_=0,y:h=0,opacity:v=0}={}){const p=getComputedStyle(a),E=+p.opacity,f=p.transform==="none"?"":p.transform,x=E*(1-v),[L,S]=At(_),[D,g]=At(h);return{delay:n,duration:o,easing:l,css:(O,u)=>`
			transform: ${f} translate(${(1-O)*L}${S}, ${(1-O)*D}${g});
			opacity: ${E-x*u}`}}var Hr=se('<div class="envelope svelte-1vbmvhy">‚úâÔ∏è</div>');function $r(a,n){$e(n,!0);let o=le(Ae({boys:{},girls:{}})),l=le(Ae([]));Xe.subscribe(v=>N(o,v,!0)),ht.subscribe(v=>N(l,v,!0));var _=Fe(),h=ge(_);me(h,17,()=>t(l),v=>v.id,(v,p)=>{var E=Fe(),f=ge(E);{var x=L=>{const S=ze(()=>t(o).boys[t(p).from]),D=ze(()=>t(o).girls[t(p).to]);var g=Hr();he(()=>Je(g,`left: ${t(D).left??""}px; top: ${t(D).top??""}px;`)),bt(5,g,()=>Br,()=>({x:t(S).left-t(D).left,y:t(S).top-t(D).top,opacity:1,duration:800})),J(L,g)};be(f,L=>{t(o).boys[t(p).from]&&t(o).girls[t(p).to]&&L(x)})}J(v,E)}),J(a,_),qe()}function Lt(a,n){const o=Date.now()+Math.random();console.log("[sendEnvelope] enqueue",a,"->",n,o),ht.update(l=>[...l,{from:a,to:n,id:o}]),setTimeout(()=>{ht.update(l=>l.filter(_=>_.id!==o)),console.log("[sendEnvelope] removed",o)},800)}function Be(a,n,o=800){a==="replaced"&&(o=1e3);const l=Date.now()+Math.random();console.log("[sendEffect]",a,n),vt.update(_=>[..._,{id:l,type:a,people:n}]),setTimeout(()=>{vt.update(_=>_.filter(h=>h.id!==l))},o)}const qr=""+new URL("../assets/lotsofhearts.BNwOjjSl.gif",import.meta.url).href,Wr="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20576%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.2%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='%233ca0d3'%20d='M575.8%20255.5c0%2018-15%2032.1-32%2032.1h-32l.7%20160.2c0%202.7-.2%205.4-.5%208.1V472c0%2022.1-17.9%2040-40%2040H456c-1.1%200-2.2%200-3.3-.1c-1.4%20.1-2.8%20.1-4.2%20.1H416%20392c-22.1%200-40-17.9-40-40V448%20384c0-17.7-14.3-32-32-32H256c-17.7%200-32%2014.3-32%2032v64%2024c0%2022.1-17.9%2040-40%2040H160%20128.1c-1.5%200-3-.1-4.5-.2c-1.2%20.1-2.4%20.2-3.6%20.2H104c-22.1%200-40-17.9-40-40V360c0-.9%200-1.9%20.1-2.8V287.6H32c-18%200-32-14-32-32.1c0-9%203-17%2010-24L266.4%208c7-7%2015-8%2022-8s15%202%2021%207L564.8%20231.5c8%207%2012%2015%2011%2024z'/%3e%3c/svg%3e";var Kr=se('<div class="log-line"><!></div>'),Qr=se('<div class="log-line"> </div>'),Vr=se('<button class="retro-btn start">Lock In Preferences</button>'),Gr=se('<button class="retro-btn next">Next Step</button>'),Yr=se("<li> </li>"),Jr=se("<li> </li>"),Xr=se("<li> </li>"),Zr=se("<li> </li>"),ei=se('<div class="endscreen svelte-14o7mzv"><img class="background-gif svelte-14o7mzv" alt="Celebration"/> <div class="box svelte-14o7mzv" style="padding-inline: 2rem; padding-bottom: 1rem; text-align: center; z-index: 1; background: rgba(255, 255, 255, 0.95);"><ul class="svelte-14o7mzv"><!> <!> <!></ul> <button class="retro-btn next">Restart</button></div></div>'),ti=se('<div class="log-container floating" style="left:5%;"><div class="log-line" style="margin-bottom: 0;"><u>Activity Log:</u></div> <div class="log-box"></div></div> <div class="log-container floating" style="left: 22%; width: 8.5%;"><div class="log-line" style="margin-bottom: 0;"><u>Engagements:</u></div> <div class="log-box"></div></div> <div class="button-panel-wrapper"><div class="button-panel"><!> <!></div> <a class="info-btn-side" href="https://nicholashayek.com/"><img alt="" width="25px"/></a> <button class="info-btn-side" style="margin-left: 4rem">Mute</button></div> <!>',1);function ri(a,n){$e(n,!0);let o=ut(n,"lockedIn",15),l=ut(n,"audio",15),_=le(Ae([...n.boys])),h=le(Ae({})),v=le(Ae({})),p=le(0),E=le(0),f=le(!1),x=le(!1),L=le(Ae([])),S,D,g=le(!1);function O(i){t(L).push("> "+i)}$t(()=>{t(g),S.scrollTo({top:S.scrollHeight,behavior:"smooth"}),D.scrollTo({top:D.scrollHeight,behavior:"smooth"})});function u(){N(L,[],!0),N(_,[...n.boys],!0),N(h,{},!0),N(v,{},!0),N(f,!1),N(x,!0),o(!o()),n.boys.forEach(i=>t(h)[i]=0)}function y(){N(x,!1),N(f,!1),N(L,[],!0),o(!o()),N(v,{},!0)}function A(){if(N(g,!t(g)),t(_).length===0){N(f,!0),N(x,!1);return}if(Object.entries(t(v)).length===n.girls.length){N(f,!0),N(x,!1);return}N(p,t(_)[0],!0),N(E,n.boyPreferences[t(p)][t(h)[t(p)]],!0),t(h)[t(p)]++,O(`${t(p)} proposes to ${t(E)}.`),Lt(t(p),t(E));const i=t(v)[t(E)];if(!i)t(v)[t(E)]=t(p),t(_).shift(),Be("tentative",[t(p),t(E)]),O(`${t(E)} accepts ${t(p)}'s proposal.`);else{const R=n.girlPreferences[t(E)];R.indexOf(t(p))<R.indexOf(i)?(O(`${t(E)} dumps ${i} for ${t(p)}!`),t(v)[t(E)]=t(p),t(_)[0]=i,Be("replaced",[i]),Be("tentative",[t(p),t(E)])):(O(`${t(E)} rejects ${t(p)}.`),Lt(t(E),t(p)),N(g,!t(g)),Be("rejector",[t(E)]),Be("rejected",[t(p)]))}}var j=ti(),V=ge(j),H=Y(ee(V),2);me(H,21,()=>t(L),Oe,(i,R)=>{var m=Kr(),I=ee(m);Cr(I,()=>t(R)),q(m),J(i,m)}),q(H),ft(H,i=>S=i,()=>S),q(V);var k=Y(V,2),w=Y(ee(k),2);me(w,21,()=>Object.entries(t(v)),Oe,(i,R)=>{var m=ze(()=>Ge(t(R),2));let I=()=>t(m)[0],b=()=>t(m)[1];var $=Qr(),X=ee($);q($),he(()=>Te(X,`${I()??""} + ${b()??""}`)),J(i,$)}),q(w),ft(w,i=>D=i,()=>D),q(k);var e=Y(k,2),r=ee(e),s=ee(r);{var d=i=>{var R=Vr();R.__click=u,J(i,R)};be(s,i=>{t(x)||i(d)})}var c=Y(s,2);{var C=i=>{var R=Gr();R.__click=A,J(i,R)};be(c,i=>{t(x)&&!t(f)&&i(C)})}q(r);var B=Y(r,2),K=ee(B);q(B);var ie=Y(B,2);ie.__click=()=>{l(l().volume=.5-l().volume,!0)},q(e);var z=Y(e,2);{var te=i=>{var R=ei(),m=ee(R),I=Y(m,2),b=ee(I),$=ee(b);me($,17,()=>Object.entries(t(v)),Oe,(F,P,Q,T)=>{var ne=ze(()=>Ge(t(P),2));let ae=()=>t(ne)[0],W=()=>t(ne)[1];var Z=Fe(),U=ge(Z);{var ve=G=>{var ue=Yr(),ye=ee(ue);q(ue),he(()=>Te(ye,`${ae()??""} üíû ${W()??""}`)),J(G,ue)},M=G=>{var ue=Jr(),ye=ee(ue);q(ue),he(()=>Te(ye,`${ae()??""} ‚ù§Ô∏è ${W()??""}`)),J(G,ue)};be(U,G=>{n.girlPreferences[ae()][0]===W()&&ae()===n.boyPreferences[W()][0]?G(ve):G(M,!1)})}J(F,Z)});var X=Y($,2);me(X,17,()=>n.girls.filter(F=>!Object.keys(t(v)).includes(F)),Oe,(F,P)=>{var Q=Xr(),T=ee(Q);q(Q),he(()=>Te(T,`${t(P)??""} üòû`)),J(F,Q)});var re=Y(X,2);me(re,17,()=>n.boys.filter(F=>!Object.values(t(v)).includes(F)),Oe,(F,P)=>{var Q=Zr(),T=ee(Q);q(Q),he(()=>Te(T,`${t(P)??""} üòû`)),J(F,Q)}),q(b);var ce=Y(b,2);ce.__click=y,q(I),q(R),he(()=>Ye(m,"src",qr)),bt(3,R,()=>Kt),J(i,R)};be(z,i=>{t(f)&&i(te)})}he(()=>Ye(K,"src",Wr)),J(a,j),qe()}gt(["click"]);const ii=""+new URL("../assets/heart.Bpr07Mgz.gif",import.meta.url).href,ni=""+new URL("../assets/crying.CHRd97a5.gif",import.meta.url).href,ai=""+new URL("../assets/breakup.D_EuIFF7.gif",import.meta.url).href,si=""+new URL("../assets/rejected.DapKlnpD.gif",import.meta.url).href;var oi=se('<img class="effect svelte-cps1d0" alt="gifs"/>');function li(a,n){$e(n,!0);let o=le(Ae([])),l=le(Ae({boys:{},girls:{}}));vt.subscribe(p=>N(o,p,!0)),Xe.subscribe(p=>N(l,p,!0));const _={tentative:ii,replaced:ai,rejector:si,rejected:ni};var h=Fe(),v=ge(h);me(v,17,()=>t(o),p=>p.id,(p,E)=>{var f=Fe(),x=ge(f);{var L=S=>{var D=Fe(),g=ge(D);me(g,17,()=>t(E).people,Oe,(O,u)=>{var y=Fe(),A=ge(y);{var j=V=>{const H=ze(()=>t(l).boys[t(u)]||t(l).girls[t(u)]);var k=oi();he(()=>{Ye(k,"src",_[t(E).type]),Je(k,`left:${t(H).left+20}px; top:${t(H).top+100}px;`)}),bt(7,k,()=>Kt,()=>({duration:800})),J(V,k)};be(A,V=>{(t(l).boys[t(u)]||t(l).girls[t(u)])&&V(j)})}J(O,y)}),J(S,D)};be(x,S=>{t(E).people&&S(L)})}J(p,f)}),J(a,h),qe()}const ui=""+new URL("../assets/titanic.B2rvjAN8.mp3",import.meta.url).href;var Ve={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var fi=Ve.exports,Dt;function ci(){return Dt||(Dt=1,(function(a,n){((o,l)=>{a.exports=l()})(fi,function o(){var l=typeof self<"u"?self:typeof window<"u"?window:l!==void 0?l:{},_,h=!l.document&&!!l.postMessage,v=l.IS_PAPA_WORKER||!1,p={},E=0,f={};function x(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(r){var s=H(r);s.chunkSize=parseInt(s.chunkSize),r.step||r.chunk||(s.chunkSize=null),this._handle=new O(s),(this._handle.streamer=this)._config=s}).call(this,e),this.parseChunk=function(r,s){var d=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<d){let C=this._config.newline;C||(c=this._config.quoteChar||'"',C=this._handle.guessLineEndings(r,c)),r=[...r.split(C).slice(d)].join(C)}this.isFirstChunk&&w(this._config.beforeFirstChunk)&&(c=this._config.beforeFirstChunk(r))!==void 0&&(r=c),this.isFirstChunk=!1,this._halted=!1;var d=this._partialLine+r,c=(this._partialLine="",this._handle.parse(d,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(r=c.meta.cursor,d=(this._finished||(this._partialLine=d.substring(r-this._baseIndex),this._baseIndex=r),c&&c.data&&(this._rowCount+=c.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),v)l.postMessage({results:c,workerId:f.WORKER_ID,finished:d});else if(w(this._config.chunk)&&!s){if(this._config.chunk(c,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=c=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(c.data),this._completeResults.errors=this._completeResults.errors.concat(c.errors),this._completeResults.meta=c.meta),this._completed||!d||!w(this._config.complete)||c&&c.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),d||c&&c.meta.paused||this._nextChunk(),c}this._halted=!0},this._sendError=function(r){w(this._config.error)?this._config.error(r):v&&this._config.error&&l.postMessage({workerId:f.WORKER_ID,error:r,finished:!1})}}function L(e){var r;(e=e||{}).chunkSize||(e.chunkSize=f.RemoteChunkSize),x.call(this,e),this._nextChunk=h?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(s){this._input=s,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),h||(r.onload=k(this._chunkLoaded,this),r.onerror=k(this._chunkError,this)),r.open(this._config.downloadRequestBody?"POST":"GET",this._input,!h),this._config.downloadRequestHeaders){var s,d=this._config.downloadRequestHeaders;for(s in d)r.setRequestHeader(s,d[s])}var c;this._config.chunkSize&&(c=this._start+this._config.chunkSize-1,r.setRequestHeader("Range","bytes="+this._start+"-"+c));try{r.send(this._config.downloadRequestBody)}catch(C){this._chunkError(C.message)}h&&r.status===0&&this._chunkError()}},this._chunkLoaded=function(){r.readyState===4&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize||r.responseText.length,this._finished=!this._config.chunkSize||this._start>=(s=>(s=s.getResponseHeader("Content-Range"))!==null?parseInt(s.substring(s.lastIndexOf("/")+1)):-1)(r),this.parseChunk(r.responseText)))},this._chunkError=function(s){s=r.statusText||s,this._sendError(new Error(s))}}function S(e){(e=e||{}).chunkSize||(e.chunkSize=f.LocalChunkSize),x.call(this,e);var r,s,d=typeof FileReader<"u";this.stream=function(c){this._input=c,s=c.slice||c.webkitSlice||c.mozSlice,d?((r=new FileReader).onload=k(this._chunkLoaded,this),r.onerror=k(this._chunkError,this)):r=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var c=this._input,C=(this._config.chunkSize&&(C=Math.min(this._start+this._config.chunkSize,this._input.size),c=s.call(c,this._start,C)),r.readAsText(c,this._config.encoding));d||this._chunkLoaded({target:{result:C}})},this._chunkLoaded=function(c){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(c.target.result)},this._chunkError=function(){this._sendError(r.error)}}function D(e){var r;x.call(this,e=e||{}),this.stream=function(s){return r=s,this._nextChunk()},this._nextChunk=function(){var s,d;if(!this._finished)return s=this._config.chunkSize,r=s?(d=r.substring(0,s),r.substring(s)):(d=r,""),this._finished=!r,this.parseChunk(d)}}function g(e){x.call(this,e=e||{});var r=[],s=!0,d=!1;this.pause=function(){x.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){x.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(c){this._input=c,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){d&&r.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),r.length?this.parseChunk(r.shift()):s=!0},this._streamData=k(function(c){try{r.push(typeof c=="string"?c:c.toString(this._config.encoding)),s&&(s=!1,this._checkIsFinished(),this.parseChunk(r.shift()))}catch(C){this._streamError(C)}},this),this._streamError=k(function(c){this._streamCleanUp(),this._sendError(c)},this),this._streamEnd=k(function(){this._streamCleanUp(),d=!0,this._streamData("")},this),this._streamCleanUp=k(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function O(e){var r,s,d,c,C=Math.pow(2,53),B=-C,K=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ie=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,z=this,te=0,i=0,R=!1,m=!1,I=[],b={data:[],errors:[],meta:{}};function $(F){return e.skipEmptyLines==="greedy"?F.join("").trim()==="":F.length===1&&F[0].length===0}function X(){if(b&&d&&(ce("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),d=!1),e.skipEmptyLines&&(b.data=b.data.filter(function(T){return!$(T)})),re()){let T=function(ne,ae){w(e.transformHeader)&&(ne=e.transformHeader(ne,ae)),I.push(ne)};if(b)if(Array.isArray(b.data[0])){for(var F=0;re()&&F<b.data.length;F++)b.data[F].forEach(T);b.data.splice(0,1)}else b.data.forEach(T)}function P(T,ne){for(var ae=e.header?{}:[],W=0;W<T.length;W++){var Z=W,U=T[W],U=((ve,M)=>(G=>(e.dynamicTypingFunction&&e.dynamicTyping[G]===void 0&&(e.dynamicTyping[G]=e.dynamicTypingFunction(G)),(e.dynamicTyping[G]||e.dynamicTyping)===!0))(ve)?M==="true"||M==="TRUE"||M!=="false"&&M!=="FALSE"&&((G=>{if(K.test(G)&&(G=parseFloat(G),B<G&&G<C))return 1})(M)?parseFloat(M):ie.test(M)?new Date(M):M===""?null:M):M)(Z=e.header?W>=I.length?"__parsed_extra":I[W]:Z,U=e.transform?e.transform(U,Z):U);Z==="__parsed_extra"?(ae[Z]=ae[Z]||[],ae[Z].push(U)):ae[Z]=U}return e.header&&(W>I.length?ce("FieldMismatch","TooManyFields","Too many fields: expected "+I.length+" fields but parsed "+W,i+ne):W<I.length&&ce("FieldMismatch","TooFewFields","Too few fields: expected "+I.length+" fields but parsed "+W,i+ne)),ae}var Q;b&&(e.header||e.dynamicTyping||e.transform)&&(Q=1,!b.data.length||Array.isArray(b.data[0])?(b.data=b.data.map(P),Q=b.data.length):b.data=P(b.data,0),e.header&&b.meta&&(b.meta.fields=I),i+=Q)}function re(){return e.header&&I.length===0}function ce(F,P,Q,T){F={type:F,code:P,message:Q},T!==void 0&&(F.row=T),b.errors.push(F)}w(e.step)&&(c=e.step,e.step=function(F){b=F,re()?X():(X(),b.data.length!==0&&(te+=F.data.length,e.preview&&te>e.preview?s.abort():(b.data=b.data[0],c(b,z))))}),this.parse=function(F,P,Q){var T=e.quoteChar||'"',T=(e.newline||(e.newline=this.guessLineEndings(F,T)),d=!1,e.delimiter?w(e.delimiter)&&(e.delimiter=e.delimiter(F),b.meta.delimiter=e.delimiter):((T=((ne,ae,W,Z,U)=>{var ve,M,G,ue;U=U||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var ye=0;ye<U.length;ye++){for(var ke,je=U[ye],fe=0,we=0,oe=0,de=(G=void 0,new y({comments:Z,delimiter:je,newline:ae,preview:10}).parse(ne)),Se=0;Se<de.data.length;Se++)W&&$(de.data[Se])?oe++:(ke=de.data[Se].length,we+=ke,G===void 0?G=ke:0<ke&&(fe+=Math.abs(ke-G),G=ke));0<de.data.length&&(we/=de.data.length-oe),(M===void 0||fe<=M)&&(ue===void 0||ue<we)&&1.99<we&&(M=fe,ve=je,ue=we)}return{successful:!!(e.delimiter=ve),bestDelimiter:ve}})(F,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=T.bestDelimiter:(d=!0,e.delimiter=f.DefaultDelimiter),b.meta.delimiter=e.delimiter),H(e));return e.preview&&e.header&&T.preview++,r=F,s=new y(T),b=s.parse(r,P,Q),X(),R?{meta:{paused:!0}}:b||{meta:{paused:!1}}},this.paused=function(){return R},this.pause=function(){R=!0,s.abort(),r=w(e.chunk)?"":r.substring(s.getCharIndex())},this.resume=function(){z.streamer._halted?(R=!1,z.streamer.parseChunk(r,!0)):setTimeout(z.resume,3)},this.aborted=function(){return m},this.abort=function(){m=!0,s.abort(),b.meta.aborted=!0,w(e.complete)&&e.complete(b),r=""},this.guessLineEndings=function(ne,T){ne=ne.substring(0,1048576);var T=new RegExp(u(T)+"([^]*?)"+u(T),"gm"),Q=(ne=ne.replace(T,"")).split("\r"),T=ne.split(`
`),ne=1<T.length&&T[0].length<Q[0].length;if(Q.length===1||ne)return`
`;for(var ae=0,W=0;W<Q.length;W++)Q[W][0]===`
`&&ae++;return ae>=Q.length/2?`\r
`:"\r"}}function u(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(e){var r=(e=e||{}).delimiter,s=e.newline,d=e.comments,c=e.step,C=e.preview,B=e.fastMode,K=null,ie=!1,z=e.quoteChar==null?'"':e.quoteChar,te=z;if(e.escapeChar!==void 0&&(te=e.escapeChar),(typeof r!="string"||-1<f.BAD_DELIMITERS.indexOf(r))&&(r=","),d===r)throw new Error("Comment character same as delimiter");d===!0?d="#":(typeof d!="string"||-1<f.BAD_DELIMITERS.indexOf(d))&&(d=!1),s!==`
`&&s!=="\r"&&s!==`\r
`&&(s=`
`);var i=0,R=!1;this.parse=function(m,I,b){if(typeof m!="string")throw new Error("Input must be a string");var $=m.length,X=r.length,re=s.length,ce=d.length,F=w(c),P=[],Q=[],T=[],ne=i=0;if(!m)return fe();if(B||B!==!1&&m.indexOf(z)===-1){for(var ae=m.split(s),W=0;W<ae.length;W++){if(T=ae[W],i+=T.length,W!==ae.length-1)i+=s.length;else if(b)return fe();if(!d||T.substring(0,ce)!==d){if(F){if(P=[],ue(T.split(r)),we(),R)return fe()}else ue(T.split(r));if(C&&C<=W)return P=P.slice(0,C),fe(!0)}}return fe()}for(var Z=m.indexOf(r,i),U=m.indexOf(s,i),ve=new RegExp(u(te)+u(z),"g"),M=m.indexOf(z,i);;)if(m[i]===z)for(M=i,i++;;){if((M=m.indexOf(z,M+1))===-1)return b||Q.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:P.length,index:i}),ke();if(M===$-1)return ke(m.substring(i,M).replace(ve,z));if(z===te&&m[M+1]===te)M++;else if(z===te||M===0||m[M-1]!==te){Z!==-1&&Z<M+1&&(Z=m.indexOf(r,M+1));var G=ye((U=U!==-1&&U<M+1?m.indexOf(s,M+1):U)===-1?Z:Math.min(Z,U));if(m.substr(M+1+G,X)===r){T.push(m.substring(i,M).replace(ve,z)),m[i=M+1+G+X]!==z&&(M=m.indexOf(z,i)),Z=m.indexOf(r,i),U=m.indexOf(s,i);break}if(G=ye(U),m.substring(M+1+G,M+1+G+re)===s){if(T.push(m.substring(i,M).replace(ve,z)),je(M+1+G+re),Z=m.indexOf(r,i),M=m.indexOf(z,i),F&&(we(),R))return fe();if(C&&P.length>=C)return fe(!0);break}Q.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:P.length,index:i}),M++}}else if(d&&T.length===0&&m.substring(i,i+ce)===d){if(U===-1)return fe();i=U+re,U=m.indexOf(s,i),Z=m.indexOf(r,i)}else if(Z!==-1&&(Z<U||U===-1))T.push(m.substring(i,Z)),i=Z+X,Z=m.indexOf(r,i);else{if(U===-1)break;if(T.push(m.substring(i,U)),je(U+re),F&&(we(),R))return fe();if(C&&P.length>=C)return fe(!0)}return ke();function ue(oe){P.push(oe),ne=i}function ye(oe){var de=0;return de=oe!==-1&&(oe=m.substring(M+1,oe))&&oe.trim()===""?oe.length:de}function ke(oe){return b||(oe===void 0&&(oe=m.substring(i)),T.push(oe),i=$,ue(T),F&&we()),fe()}function je(oe){i=oe,ue(T),T=[],U=m.indexOf(s,i)}function fe(oe){if(e.header&&!I&&P.length&&!ie){var de=P[0],Se=Object.create(null),tt=new Set(de);let yt=!1;for(let Me=0;Me<de.length;Me++){let Ee=de[Me];if(Se[Ee=w(e.transformHeader)?e.transformHeader(Ee,Me):Ee]){let Pe,kt=Se[Ee];for(;Pe=Ee+"_"+kt,kt++,tt.has(Pe););tt.add(Pe),de[Me]=Pe,Se[Ee]++,yt=!0,(K=K===null?{}:K)[Pe]=Ee}else Se[Ee]=1,de[Me]=Ee;tt.add(Ee)}yt&&console.warn("Duplicate headers found and renamed."),ie=!0}return{data:P,errors:Q,meta:{delimiter:r,linebreak:s,aborted:R,truncated:!!oe,cursor:ne+(I||0),renamedHeaders:K}}}function we(){c(fe()),P=[],Q=[]}},this.abort=function(){R=!0},this.getCharIndex=function(){return i}}function A(e){var r=e.data,s=p[r.workerId],d=!1;if(r.error)s.userError(r.error,r.file);else if(r.results&&r.results.data){var c={abort:function(){d=!0,j(r.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:V,resume:V};if(w(s.userStep)){for(var C=0;C<r.results.data.length&&(s.userStep({data:r.results.data[C],errors:r.results.errors,meta:r.results.meta},c),!d);C++);delete r.results}else w(s.userChunk)&&(s.userChunk(r.results,c,r.file),delete r.results)}r.finished&&!d&&j(r.workerId,r.results)}function j(e,r){var s=p[e];w(s.userComplete)&&s.userComplete(r),s.terminate(),delete p[e]}function V(){throw new Error("Not implemented.")}function H(e){if(typeof e!="object"||e===null)return e;var r,s=Array.isArray(e)?[]:{};for(r in e)s[r]=H(e[r]);return s}function k(e,r){return function(){e.apply(r,arguments)}}function w(e){return typeof e=="function"}return f.parse=function(e,r){var s=(r=r||{}).dynamicTyping||!1;if(w(s)&&(r.dynamicTypingFunction=s,s={}),r.dynamicTyping=s,r.transform=!!w(r.transform)&&r.transform,!r.worker||!f.WORKERS_SUPPORTED)return s=null,f.NODE_STREAM_INPUT,typeof e=="string"?(e=(d=>d.charCodeAt(0)!==65279?d:d.slice(1))(e),s=new(r.download?L:D)(r)):e.readable===!0&&w(e.read)&&w(e.on)?s=new g(r):(l.File&&e instanceof File||e instanceof Object)&&(s=new S(r)),s.stream(e);(s=(()=>{var d;return!!f.WORKERS_SUPPORTED&&(d=(()=>{var c=l.URL||l.webkitURL||null,C=o.toString();return f.BLOB_URL||(f.BLOB_URL=c.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",C,")();"],{type:"text/javascript"})))})(),(d=new l.Worker(d)).onmessage=A,d.id=E++,p[d.id]=d)})()).userStep=r.step,s.userChunk=r.chunk,s.userComplete=r.complete,s.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,s.postMessage({input:e,config:r,workerId:s.id})},f.unparse=function(e,r){var s=!1,d=!0,c=",",C=`\r
`,B='"',K=B+B,ie=!1,z=null,te=!1,i=((()=>{if(typeof r=="object"){if(typeof r.delimiter!="string"||f.BAD_DELIMITERS.filter(function(I){return r.delimiter.indexOf(I)!==-1}).length||(c=r.delimiter),typeof r.quotes!="boolean"&&typeof r.quotes!="function"&&!Array.isArray(r.quotes)||(s=r.quotes),typeof r.skipEmptyLines!="boolean"&&typeof r.skipEmptyLines!="string"||(ie=r.skipEmptyLines),typeof r.newline=="string"&&(C=r.newline),typeof r.quoteChar=="string"&&(B=r.quoteChar),typeof r.header=="boolean"&&(d=r.header),Array.isArray(r.columns)){if(r.columns.length===0)throw new Error("Option columns is empty");z=r.columns}r.escapeChar!==void 0&&(K=r.escapeChar+B),r.escapeFormulae instanceof RegExp?te=r.escapeFormulae:typeof r.escapeFormulae=="boolean"&&r.escapeFormulae&&(te=/^[=+\-@\t\r].*$/)}})(),new RegExp(u(B),"g"));if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return R(null,e,ie);if(typeof e[0]=="object")return R(z||Object.keys(e[0]),e,ie)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||z),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:typeof e.data[0]=="object"?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||typeof e.data[0]=="object"||(e.data=[e.data])),R(e.fields||[],e.data||[],ie);throw new Error("Unable to serialize unrecognized input");function R(I,b,$){var X="",re=(typeof I=="string"&&(I=JSON.parse(I)),typeof b=="string"&&(b=JSON.parse(b)),Array.isArray(I)&&0<I.length),ce=!Array.isArray(b[0]);if(re&&d){for(var F=0;F<I.length;F++)0<F&&(X+=c),X+=m(I[F],F);0<b.length&&(X+=C)}for(var P=0;P<b.length;P++){var Q=(re?I:b[P]).length,T=!1,ne=re?Object.keys(b[P]).length===0:b[P].length===0;if($&&!re&&(T=$==="greedy"?b[P].join("").trim()==="":b[P].length===1&&b[P][0].length===0),$==="greedy"&&re){for(var ae=[],W=0;W<Q;W++){var Z=ce?I[W]:W;ae.push(b[P][Z])}T=ae.join("").trim()===""}if(!T){for(var U=0;U<Q;U++){0<U&&!ne&&(X+=c);var ve=re&&ce?I[U]:U;X+=m(b[P][ve],U)}P<b.length-1&&(!$||0<Q&&!ne)&&(X+=C)}}return X}function m(I,b){var $,X;return I==null?"":I.constructor===Date?JSON.stringify(I).slice(1,25):(X=!1,te&&typeof I=="string"&&te.test(I)&&(I="'"+I,X=!0),$=I.toString().replace(i,K),(X=X||s===!0||typeof s=="function"&&s(I,b)||Array.isArray(s)&&s[b]||((re,ce)=>{for(var F=0;F<ce.length;F++)if(-1<re.indexOf(ce[F]))return!0;return!1})($,f.BAD_DELIMITERS)||-1<$.indexOf(c)||$.charAt(0)===" "||$.charAt($.length-1)===" ")?B+$+B:$)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!h&&!!l.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=y,f.ParserHandle=O,f.NetworkStreamer=L,f.FileStreamer=S,f.StringStreamer=D,f.ReadableStreamStreamer=g,l.jQuery&&((_=l.jQuery).fn.parse=function(e){var r=e.config||{},s=[];return this.each(function(C){if(!(_(this).prop("tagName").toUpperCase()==="INPUT"&&_(this).attr("type").toLowerCase()==="file"&&l.FileReader)||!this.files||this.files.length===0)return!0;for(var B=0;B<this.files.length;B++)s.push({file:this.files[B],inputElem:this,instanceConfig:_.extend({},r)})}),d(),this;function d(){if(s.length===0)w(e.complete)&&e.complete();else{var C,B,K,ie,z=s[0];if(w(e.before)){var te=e.before(z.file,z.inputElem);if(typeof te=="object"){if(te.action==="abort")return C="AbortError",B=z.file,K=z.inputElem,ie=te.reason,void(w(e.error)&&e.error({name:C},B,K,ie));if(te.action==="skip")return void c();typeof te.config=="object"&&(z.instanceConfig=_.extend(z.instanceConfig,te.config))}else if(te==="skip")return void c()}var i=z.instanceConfig.complete;z.instanceConfig.complete=function(R){w(i)&&i(R,z.file,z.inputElem),c()},f.parse(z.file,z.instanceConfig)}}function c(){s.splice(0,1),d()}}),v&&(l.onmessage=function(e){e=e.data,f.WORKER_ID===void 0&&e&&(f.WORKER_ID=e.workerId),typeof e.input=="string"?l.postMessage({workerId:f.WORKER_ID,results:f.parse(e.input,e.config),finished:!0}):(l.File&&e.input instanceof File||e.input instanceof Object)&&(e=f.parse(e.input,e.config))&&l.postMessage({workerId:f.WORKER_ID,results:e,finished:!0})}),(L.prototype=Object.create(x.prototype)).constructor=L,(S.prototype=Object.create(x.prototype)).constructor=S,(D.prototype=Object.create(D.prototype)).constructor=D,(g.prototype=Object.create(x.prototype)).constructor=g,f})})(Ve)),Ve.exports}ci();var di=se(`<div class="modal-overlay"><div class="modal-box"><h2>Welcome!</h2> <p>This simulation takes you through a dating strategy in which everyone is (mostly) satisfied with their final choice of partner. In particular, no two people mutually prefer eachother over the pairing that the strategy generates. Look up the <a href="https://en.wikipedia.org/wiki/Gale%E2%80%93Shapley_algorithm" target="_blank" style="color:blueviolet">Gale-Shapley algorithm</a> for more details. <br/><br/> Type in any names (comma-separated) in the input boxes provided, and hover over the candidates' lists to be able to customize their preference rankings. When you're done, click <b>Lock In Preferences</b> and then <b>Next Step</b> until all candidates are paired! Proposals, rejections, breakups, and current engagements are logged in the top-right corner.<br/><br/> XOXO</p> <p style="line-height: 1rem; font-size: .8rem"><b>Notes:</b> functionality may vary when you input duplicate names; adding a girl will shuffle all boys' lists (and vice versa); all preference controls are disabled after you lock in your preferences, and they unlock when the algorithm terminates.</p> <button class="retro-btn exit">Close</button></div></div>`),hi=se('<div class="warning">Warning: Duplicate names detected! No Polyamory Allowed!</div>'),vi=se('<div class="div1"><!></div>'),pi=se('<div class="div1"><!></div>'),_i=se('<div style="top-buttons"><button class="info-btn">Info</button> <button class="info-btn" style="top: 5.25rem; z-index: 900">Shuffle</button></div> <!> <!> <br/> <div class="list-input-wrapper">GIRLS: <input class="list-input" placeholder="Enter names separated by commas"/></div> <div class="list-input-wrapper">BOYS: <input class="list-input" placeholder="Enter names separated by commas"/></div> <br/><br/> <div class="boys"></div> <br/><br/> <div class="girls"></div> <br/><br/> <!> <!> <!>',1);function Ri(a,n){$e(n,!1);const o=pe(),l=pe(),_=pe();let h=pe(),v=pe(!1);Ft(()=>{N(h,new Audio(ui)),xe(h,t(h).loop=!0),xe(h,t(h).volume=.5),t(h).play()});let p=pe(!0);function E(){t(h)?.play(),N(p,!t(p))}function f(i){let R=i.length;for(;R!=0;){let m=Math.floor(Math.random()*R);R--,[i[R],i[m]]=[i[m],i[R]]}return i}function x(){if(!t(v)){for(let i of t(g))xe(u,t(u)[i]=f(t(S).slice()));for(let i of t(S))xe(y,t(y)[i]=f(t(g).slice()))}}function L(i,R){if(!i||!R||i.length!==R.length)return!1;const m=new Set(i),I=new Set(R);for(const b of m)if(!I.has(b))return!1;return!0}let S=pe(["Alice","Bella","Cecilia","Daisy"]),D=pe(t(S).join(",")),g=pe(["Alex","Bob","Chris","Daniel"]),O=pe(t(g).join(",")),u=pe({}),y=pe({});Le(()=>t(D),()=>{N(S,t(D).split(",").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()))}),Le(()=>t(O),()=>{N(g,t(O).split(",").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()))}),Le(()=>(t(g),t(u),t(S)),()=>{for(let i of t(g))i&&!t(u)[i]?xe(u,t(u)[i]=f(t(S).slice())):i&&!L(t(S),t(u)[i])&&xe(u,t(u)[i]=f(t(S).slice()));for(let i of Object.keys(t(u)))t(g).includes(i)||delete t(u)[i],N(u,{...t(u)})}),Le(()=>(t(S),t(y),t(g)),()=>{for(let i of t(S))i&&!t(y)[i]?xe(y,t(y)[i]=f(t(g).slice())):i&&!L(t(g),t(y)[i])&&xe(y,t(y)[i]=f(t(g).slice()));for(let i of Object.keys(t(y)))t(S).includes(i)||delete t(y)[i],N(y,{...t(y)})}),Le(()=>t(S),()=>{N(o,t(S).filter((i,R,m)=>m.indexOf(i)!==R))}),Le(()=>t(g),()=>{N(l,t(g).filter((i,R,m)=>m.indexOf(i)!==R))}),Le(()=>(t(o),t(l)),()=>{N(_,t(o).length>0||t(l).length>0)}),xr(),Vt();var A=_i(),j=ge(A),V=ee(j);V.__click=E;var H=Y(V,2);H.__click=x,q(j);var k=Y(j,2);{var w=i=>{var R=di();R.__click=E;var m=ee(R);m.__click=E;var I=Y(ee(m),6);I.__click=E,q(m),q(R),J(i,R)};be(k,i=>{t(p)&&i(w)})}var e=Y(k,2);{var r=i=>{var R=hi();J(i,R)};be(e,i=>{t(_)&&i(r)})}var s=Y(e,4),d=Y(ee(s));Ot(d),q(s);var c=Y(s,2),C=Y(ee(c));Ot(C),q(c);var B=Y(c,5);me(B,5,()=>(t(u),Ie(()=>Object.entries(t(u)))),Oe,(i,R)=>{var m=ze(()=>Ge(t(R),2));let I=()=>t(m)[0],b=()=>t(m)[1];var $=vi(),X=ee($);Tt(X,{get size(){return b(),Ie(()=>b().length)},get name(){return I()},group:"boys",get pref(){return t(u)[I()]},set pref(re){xe(u,t(u)[I()]=re)},get lockedIn(){return t(v)},set lockedIn(re){N(v,re)},$$legacy:!0}),q($),J(i,$)}),q(B);var K=Y(B,5);me(K,5,()=>(t(y),Ie(()=>Object.entries(t(y)))),Oe,(i,R)=>{var m=ze(()=>Ge(t(R),2));let I=()=>t(m)[0],b=()=>t(m)[1];var $=pi(),X=ee($);Tt(X,{get size(){return b(),Ie(()=>b().length)},get name(){return I()},group:"girls",get pref(){return t(y)[I()]},set pref(re){xe(y,t(y)[I()]=re)},get lockedIn(){return t(v)},set lockedIn(re){N(v,re)},$$legacy:!0}),q($),J(i,$)}),q(K);var ie=Y(K,5);$r(ie,{});var z=Y(ie,2);li(z,{});var te=Y(z,2);ri(te,{get boyPreferences(){return t(u)},get girlPreferences(){return t(y)},get boys(){return t(g)},get girls(){return t(S)},get lockedIn(){return t(v)},set lockedIn(i){N(v,i)},get audio(){return t(h)},set audio(i){N(h,i)},$$legacy:!0}),he(()=>{d.disabled=t(v),C.disabled=t(v),Je(B,`grid-template-columns: repeat(${t(u),Ie(()=>t(u).length)??""}, 1fr);`),Je(K,`grid-template-columns: repeat(${t(y),Ie(()=>t(y).length)??""}, 1fr);`)}),It(d,()=>t(D),i=>N(D,i)),It(C,()=>t(O),i=>N(O,i)),J(a,A),qe()}gt(["click"]);export{Ri as component};
